const _0x1a355b=_0xd824;(function(_0x304761,_0x3de8b0){const _0x25028f=_0xd824,_0x3a3077=_0x304761();while(!![]){try{const _0x91b2d=-parseInt(_0x25028f(0xa5))/0x1*(-parseInt(_0x25028f(0x9f))/0x2)+parseInt(_0x25028f(0x9d))/0x3*(parseInt(_0x25028f(0xaa))/0x4)+parseInt(_0x25028f(0xae))/0x5+-parseInt(_0x25028f(0xb7))/0x6+parseInt(_0x25028f(0x9c))/0x7*(-parseInt(_0x25028f(0xa1))/0x8)+parseInt(_0x25028f(0xba))/0x9+parseInt(_0x25028f(0x83))/0xa*(-parseInt(_0x25028f(0x7b))/0xb);if(_0x91b2d===_0x3de8b0)break;else _0x3a3077['push'](_0x3a3077['shift']());}catch(_0x1f71f4){_0x3a3077['push'](_0x3a3077['shift']());}}}(_0x5deb,0xad2c6));import _0x252794,{PRICE}from'./Grid.js';import _0x2f2628 from'./Tile.js';const gameBoard=document[_0x1a355b(0xc1)](_0x1a355b(0x89));typeof Storage!==_0x1a355b(0xac)?localStorage[_0x1a355b(0xaf)](_0x1a355b(0x98))!=null?document[_0x1a355b(0xc1)](_0x1a355b(0x8c))[_0x1a355b(0x7c)]=localStorage['getItem'](_0x1a355b(0x98)):document[_0x1a355b(0xc1)]('hightScore')[_0x1a355b(0x7c)]=0x0:document[_0x1a355b(0xc1)](_0x1a355b(0x8c))[_0x1a355b(0x7c)]=0x0;const grid=new _0x252794(gameBoard);grid[_0x1a355b(0xa6)]()[_0x1a355b(0xa4)]=new _0x2f2628(gameBoard),grid[_0x1a355b(0xa6)]()['tile']=new _0x2f2628(gameBoard),grid[_0x1a355b(0xa6)]()[_0x1a355b(0xa4)]=new _0x2f2628(gameBoard),setupInput();function setupInput(){const _0x2168db=_0x1a355b;window[_0x2168db(0x87)](_0x2168db(0x78),handleInput,{'once':!![]});}async function handleInput(_0x1a2287){const _0x310f10=_0x1a355b;switch(_0x1a2287[_0x310f10(0x91)]){case'ArrowUp':case'w':if(!canMoveUp()){setupInput();return;}await moveUp();break;case'ArrowDown':case's':if(!canMoveDown()){setupInput();return;}await moveDown();break;case _0x310f10(0x8a):case'a':if(!canMoveLeft()){setupInput();return;}await moveLeft();break;case'ArrowRight':case'd':if(!canMoveRight()){setupInput();return;}await moveRight();break;default:setupInput();return;}grid[_0x310f10(0xb4)][_0x310f10(0x92)](_0x4aba6c=>_0x4aba6c[_0x310f10(0xb1)]());const _0x1b05ea=new _0x2f2628(gameBoard);grid['randomEmptyCell']()[_0x310f10(0xa4)]=_0x1b05ea;if(!canMoveUp()&&!canMoveDown()&&!canMoveLeft()&&!canMoveRight()){_0x1b05ea['waitForTransition'](!![])['then'](()=>{moddedGameOver();});return;}if(grid[_0x310f10(0xa6)]()!=null){const _0x3cc5ba=new _0x2f2628(gameBoard);grid[_0x310f10(0xa6)]()[_0x310f10(0xa4)]=_0x3cc5ba;if(!canMoveUp()&&!canMoveDown()&&!canMoveLeft()&&!canMoveRight()){_0x3cc5ba['waitForTransition'](!![])[_0x310f10(0x80)](()=>{moddedGameOver();});return;}}gameMod(),setupInput();}function _0x5deb(){const _0x3ebe78=['score','Are\x20you\x20sure\x20you\x20want\x20to\x20leave?','327349RVmJoV','innerHTML','STOP!!!',':root\x20{\x20--over-title:\x20','Wow','then','You\x20are\x20wasting\x20my\x20time',';\x20}','420notuwg','Uhh','className','Are\x20you\x20god???','addEventListener','Not\x20that\x20bad','game-board','ArrowLeft','#FFCC00','hightScore','cellsByColumn','medium','roundsLeft','push','key','forEach','onbeforeunload','waitForTransition','#a80f0f','some','#640ba3','bestScoreSaved','You\x20are\x20too\x20bad','all','onclick','301dYoEiK','3jAfbgX','length','145674agXxkF','createElement','145480bXeCre','canAccept','price','tile','5GSvfHx','randomEmptyCell','floor','cellsByRow','hard','946104NJCQcI','flatMap','undefined','WTF?','6434415ybuWSy','getItem','easy','mergeTiles','Perfect','style','cells','titleScore','reverse','1675302BnLFeZ','color','gameEndAnim','10194966JrEQOD','gameEnd','Awsome','gameOverScore','head','Good','Ok,\x20im\x20done!','getElementById','impossible','zIndex','map','keydown'];_0x5deb=function(){return _0x3ebe78;};return _0x5deb();}function moveUp(){return slideTiles(grid['cellsByColumn']);}function moveDown(){const _0x29f3a1=_0x1a355b;return slideTiles(grid[_0x29f3a1(0x8d)][_0x29f3a1(0x77)](_0x72d371=>[..._0x72d371][_0x29f3a1(0xb6)]()));}function moveLeft(){const _0x589cf0=_0x1a355b;return slideTiles(grid[_0x589cf0(0xa8)]);}function moveRight(){const _0x4f1d2f=_0x1a355b;return slideTiles(grid[_0x4f1d2f(0xa8)][_0x4f1d2f(0x77)](_0x568805=>[..._0x568805][_0x4f1d2f(0xb6)]()));}function slideTiles(_0x32881c){const _0x5afeae=_0x1a355b;return Promise[_0x5afeae(0x9a)](_0x32881c[_0x5afeae(0xab)](_0x255859=>{const _0x470a88=_0x5afeae,_0x1dea13=[];for(let _0x3d2a6f=0x1;_0x3d2a6f<_0x255859[_0x470a88(0x9e)];_0x3d2a6f++){const _0x194bca=_0x255859[_0x3d2a6f];if(_0x194bca['tile']==null)continue;let _0x25a36b;for(let _0xe64ef2=_0x3d2a6f-0x1;_0xe64ef2>=0x0;_0xe64ef2--){const _0x3428f2=_0x255859[_0xe64ef2];if(!_0x3428f2[_0x470a88(0xa2)](_0x194bca['tile']))break;_0x25a36b=_0x3428f2;}_0x25a36b!=null&&(_0x1dea13[_0x470a88(0x90)](_0x194bca[_0x470a88(0xa4)][_0x470a88(0x94)]()),_0x25a36b[_0x470a88(0xa4)]!=null?_0x25a36b['mergeTile']=_0x194bca[_0x470a88(0xa4)]:_0x25a36b[_0x470a88(0xa4)]=_0x194bca['tile'],_0x194bca[_0x470a88(0xa4)]=null);}return _0x1dea13;}));}function canMoveUp(){const _0x17089c=_0x1a355b;return canMove(grid[_0x17089c(0x8d)]);}function canMoveDown(){const _0x3cee9d=_0x1a355b;return canMove(grid[_0x3cee9d(0x8d)][_0x3cee9d(0x77)](_0x876195=>[..._0x876195]['reverse']()));}function canMoveLeft(){return canMove(grid['cellsByRow']);}function canMoveRight(){const _0x376a45=_0x1a355b;return canMove(grid['cellsByRow'][_0x376a45(0x77)](_0x143bc6=>[..._0x143bc6][_0x376a45(0xb6)]()));}function canMove(_0x40218f){const _0x2a33fa=_0x1a355b;return _0x40218f[_0x2a33fa(0x96)](_0x145532=>{return _0x145532['some']((_0x4e9390,_0x755bc5)=>{const _0xc340c5=_0xd824;if(_0x755bc5===0x0)return![];if(_0x4e9390[_0xc340c5(0xa4)]==null)return![];const _0x500a0e=_0x145532[_0x755bc5-0x1];return _0x500a0e[_0xc340c5(0xa2)](_0x4e9390[_0xc340c5(0xa4)]);});});}let score=0x0;const scoreId=document['getElementById'](_0x1a355b(0x79)),priceId=document[_0x1a355b(0xc1)](_0x1a355b(0xa3)),roundsId=document[_0x1a355b(0xc1)](_0x1a355b(0x8f));let rounds=0x14;function gameMod(){const _0x4ceb1c=_0x1a355b;score=score+0x1,rounds=rounds-0x1,questConfig();if(rounds<0x0){moddedGameOver();return;}scoreId[_0x4ceb1c(0x7c)]=score,priceId[_0x4ceb1c(0x7c)]=PRICE,roundsId[_0x4ceb1c(0x7c)]=rounds;}function moddedGameOver(){const _0x2327c3=_0x1a355b;var _0x251ca2=function(){setupInput=function(){return;};};_0x251ca2(),defineTitleScore(),document[_0x2327c3(0xc1)](_0x2327c3(0xbb))[_0x2327c3(0xb3)][_0x2327c3(0x76)]=0x3,document['getElementById'](_0x2327c3(0xbb))['className']=_0x2327c3(0xb9),document[_0x2327c3(0xc1)](_0x2327c3(0xb5))[_0x2327c3(0x85)]+=_0x2327c3(0xb5),document['getElementById'](_0x2327c3(0xbd))[_0x2327c3(0x7c)]=score,document['getElementById']('retry')[_0x2327c3(0x9b)]=function(){history['go'](0x0);};if(score>=document[_0x2327c3(0xc1)](_0x2327c3(0x8c))[_0x2327c3(0x7c)]){if(typeof Storage!==_0x2327c3(0xac))localStorage['setItem']('bestScoreSaved',score);else return;document[_0x2327c3(0xc1)]('hightScore')[_0x2327c3(0x7c)]=score;}}function _0xd824(_0x2339c4,_0x436bc8){const _0x5deb94=_0x5deb();return _0xd824=function(_0xd824ed,_0x36cde2){_0xd824ed=_0xd824ed-0x75;let _0x413bf2=_0x5deb94[_0xd824ed];return _0x413bf2;},_0xd824(_0x2339c4,_0x436bc8);}window[_0x1a355b(0x93)]=function(){const _0x27b7d7=_0x1a355b;return _0x27b7d7(0x7a);};function defineTitleScore(){const _0x51cf18=_0x1a355b;var _0x43d5b9;const _0x16faad=[_0x51cf18(0x81),_0x51cf18(0x99),'Oof','Bad',_0x51cf18(0x84),_0x51cf18(0x88),'Close\x20to\x20good',_0x51cf18(0xbf),_0x51cf18(0x7f),_0x51cf18(0xbc),_0x51cf18(0xb2),_0x51cf18(0xad),_0x51cf18(0x7d),_0x51cf18(0x86),_0x51cf18(0xc0)];if(score<0x1e)_0x43d5b9=_0x16faad[0x0];else{if(score<0x3c)_0x43d5b9=_0x16faad[0x1];else{if(score<0x5a)_0x43d5b9=_0x16faad[0x2];else{if(score<0x87)_0x43d5b9=_0x16faad[0x3];else{if(score<0xc8)_0x43d5b9=_0x16faad[0x4];else{if(score<0x12c)_0x43d5b9=_0x16faad[0x5];else{if(score<0x190)_0x43d5b9=_0x16faad[0x6];else{if(score<0x1f4)_0x43d5b9=_0x16faad[0x7];else{if(score<0x2bc)_0x43d5b9=_0x16faad[0x8];else{if(score<0x320)_0x43d5b9=_0x16faad[0x9];else{if(score<0x3b6)_0x43d5b9=_0x16faad[0xa];else{if(score<0x47e)_0x43d5b9=_0x16faad[0xb];else{if(score<0x578)_0x43d5b9=_0x16faad[0xc];else{if(score<0x672)_0x43d5b9=_0x16faad[0xd];else score>0x672&&(_0x43d5b9=_0x16faad[0xe]);}}}}}}}}}}}}}let _0x273e68=document[_0x51cf18(0xa0)](_0x51cf18(0xb3));_0x273e68[_0x51cf18(0x7c)]=_0x51cf18(0x7e)+'\x22'+_0x43d5b9+'\x22'+_0x51cf18(0x82),document[_0x51cf18(0xbe)]['appendChild'](_0x273e68);}let oldprice=0x10;const dificulty=document[_0x1a355b(0xc1)]('dificultyLevel');function questConfig(){const _0x5d4ee4=_0x1a355b;if(oldprice!=PRICE){oldprice=oldprice*0x2;if(PRICE<=0x40)rounds=Math[_0x5d4ee4(0xa7)](PRICE/1.5),dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0xb0),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]='#19A328';else{if(PRICE==0x80)rounds=0x3c,dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0x8e),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]='#FFCC00';else{if(PRICE==0x100)rounds=0x5a,dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0x8e),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]=_0x5d4ee4(0x8b);else{if(PRICE==0x200)rounds=0xa0,dificulty[_0x5d4ee4(0x7c)]='medium',dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]='#FFCC00';else{if(PRICE==0x400)rounds=0xf0,dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0xa9),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]=_0x5d4ee4(0x95);else{if(PRICE==0x800)rounds=0x190,dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0x75),dificulty['style'][_0x5d4ee4(0xb8)]=_0x5d4ee4(0x97);else{if(PRICE==0x1000)rounds=0x2bc,dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0x75),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]='#640ba3';else PRICE>=0x2000&&(rounds=Math[_0x5d4ee4(0xa7)](PRICE/0x7),dificulty[_0x5d4ee4(0x7c)]=_0x5d4ee4(0x75),dificulty[_0x5d4ee4(0xb3)][_0x5d4ee4(0xb8)]=_0x5d4ee4(0x97));}}}}}}}}
